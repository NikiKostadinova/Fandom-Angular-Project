{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CommentsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \" Be the first to leave a comment!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"fa-star\": a0,\n    \"fa-star-o\": a1\n  };\n};\nfunction CommentsComponent_div_6_div_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r5 = ctx.$implicit;\n    const comment_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(1, _c0, comment_r2.rating >= star_r5, comment_r2.rating < star_r5));\n  }\n}\nconst _c1 = function () {\n  return [1, 2, 3, 4, 5];\n};\nfunction CommentsComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"div\");\n    i0.ɵɵelement(3, \"img\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5)(5, \"div\", 6);\n    i0.ɵɵelement(6, \"img\", 7);\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 9)(10, \"div\", 10);\n    i0.ɵɵtemplate(11, CommentsComponent_div_6_div_1_span_11_Template, 2, 4, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const comment_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.book.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(comment_r2.username);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(4, _c1));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", comment_r2.comment, \" \");\n  }\n}\nfunction CommentsComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, CommentsComponent_div_6_div_1_Template, 14, 5, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.book);\n  }\n}\nexport class CommentsComponent {\n  constructor(apiService, route) {\n    this.apiService = apiService;\n    this.route = route;\n    this.commentsList = [];\n    this.thereAreNoComments = false;\n  }\n  ngOnInit() {\n    const bookId = this.route.snapshot.paramMap.get('id');\n    console.log(bookId);\n    if (bookId) {\n      this.apiService.getBook(bookId).subscribe(book => {\n        this.book = book;\n      });\n      this.apiService.getBookComments(bookId).subscribe(comments => {\n        console.log(comments);\n        this.commentsList = comments;\n        if (this.commentsList.length === 0) {\n          this.thereAreNoComments = true;\n        }\n      });\n    }\n  }\n}\nCommentsComponent.ɵfac = function CommentsComponent_Factory(t) {\n  return new (t || CommentsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nCommentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CommentsComponent,\n  selectors: [[\"app-comments\"]],\n  decls: 7,\n  vars: 2,\n  consts: [[1, \"aside\"], [4, \"ngIf\"], [\"class\", \"aside-book\", 4, \"ngFor\", \"ngForOf\"], [1, \"aside-book\"], [\"alt\", \"Book Image\", \"width\", \"250\", \"height\", \"250\", 1, \"img-fluid\", \"founded-start\", 3, \"src\"], [1, \"comment-main\"], [1, \"user\"], [\"src\", \"/assets/profile.png\", \"alt\", \"avatar\", \"width\", \"50\", \"height\", \"50\"], [1, \"userName\"], [1, \"content\"], [1, \"rating\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fa\", 3, \"ngClass\"]],\n  template: function CommentsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"aside\")(1, \"div\", 0)(2, \"h2\");\n      i0.ɵɵtext(3, \" Comments \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, CommentsComponent_div_4_Template, 3, 0, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\");\n      i0.ɵɵtemplate(6, CommentsComponent_div_6_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.thereAreNoComments);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.commentsList);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵpureFunction2","_c0","comment_r2","rating","star_r5","ɵɵtemplate","CommentsComponent_div_6_div_1_span_11_Template","ɵɵpropertyInterpolate","ctx_r3","book","image","ɵɵsanitizeUrl","ɵɵtextInterpolate","username","ɵɵpureFunction0","_c1","ɵɵtextInterpolate1","comment","CommentsComponent_div_6_div_1_Template","ctx_r1","CommentsComponent","constructor","apiService","route","commentsList","thereAreNoComments","ngOnInit","bookId","snapshot","paramMap","get","console","log","getBook","subscribe","getBookComments","comments","length","ɵɵdirectiveInject","i1","ApiService","i2","ActivatedRoute","selectors","decls","vars","consts","template","CommentsComponent_Template","rf","ctx","CommentsComponent_div_4_Template","CommentsComponent_div_6_Template"],"sources":["D:\\JS\\AngularProjects\\fandom\\fandom\\src\\app\\categories\\comments\\comments.component.ts","D:\\JS\\AngularProjects\\fandom\\fandom\\src\\app\\categories\\comments\\comments.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../api.service';\nimport { Comment } from '../../types/comment';\nimport { Book } from '../../types/book';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-comments',\n  templateUrl: './comments.component.html',\n  styleUrls: ['./comments.component.css']\n})\nexport class CommentsComponent implements OnInit {\n  commentsList: Comment[] = [];\n  thereAreNoComments: boolean = false;\n  book: Book | undefined;\n\n  constructor(private apiService: ApiService, private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    const bookId = this.route.snapshot.paramMap.get('id');\n    console.log(bookId)\n\n    if (bookId) {\n      this.apiService.getBook(bookId).subscribe((book) => {\n        this.book = book; \n      })\n      this.apiService.getBookComments(bookId).subscribe((comments) => {\n       console.log(comments)\n        this.commentsList = comments;\n\n        if (this.commentsList.length === 0) {\n          this.thereAreNoComments = true;\n        }\n      });\n    }\n\n\n  }\n}\n\n\n","<aside>\n    <div class=\"aside\">\n        <h2> Comments </h2>\n        <div *ngIf=\"thereAreNoComments\">\n            <h3> Be the first to leave a comment!</h3>\n        </div>\n\n        <div>\n\n            <div *ngFor=\"let comment of commentsList\" class=\"aside-book\">\n                <div *ngIf=\"book\">\n\n                    <!-- <a href=\"#\">\n                    <h3>{{ comment.bookName }}</h3>\n                    <p>{{ comment.username }}</p>\n                    <p>\n\n                    </p>\n                </a> -->\n\n                    <div>\n                        <div>\n                            <img src={{book.image}} alt=\"Book Image\" class=\"img-fluid founded-start\" width=\"250\" height=\"250\">\n                        </div>\n\n                        <div class=\"comment-main\">\n                            <div class=\"user\">\n                                <img src=\"/assets/profile.png\" alt=\"avatar\" width=\"50\" height=\"50\" />\n                                <div class=\"userName\">{{ comment.username }}</div>\n                            </div>\n                            <div class=\"content\">\n                                <div class=\"rating\">\n                                    <span *ngFor=\"let star of [1, 2, 3, 4, 5]\">\n                                        <i class=\"fa\"\n                                            [ngClass]=\"{'fa-star': comment.rating >= star, 'fa-star-o': comment.rating < star}\"></i>\n                                    </span>\n                                </div>\n                                <p>\n                                    {{ comment.comment }}\n                                </p>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</aside>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}