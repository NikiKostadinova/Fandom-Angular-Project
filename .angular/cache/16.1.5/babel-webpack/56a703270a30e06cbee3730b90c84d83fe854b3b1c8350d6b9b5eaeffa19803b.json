{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/user/user.service\";\nexport class BookDetailsComponent {\n  constructor(apiService, activatedRoute, userService, router) {\n    this.apiService = apiService;\n    this.activatedRoute = activatedRoute;\n    this.userService = userService;\n    this.router = router;\n  }\n  get isLogged() {\n    return this.userService.isLogged;\n  }\n  ngOnInit() {\n    this.fetchBook();\n  }\n  fetchBook() {\n    const id = this.activatedRoute.snapshot.params['id'];\n    console.log(id);\n    this.apiService.getBook(id).subscribe(book => {\n      this.book = book;\n      console.log(this.book);\n    });\n  }\n  onDeleteBook() {\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.apiService.deleteBook(id).subscribe(() => {\n      console.log('Book deleted successfully!');\n      this.router.navigate(['/books']);\n    }, error => {\n      console.error('Error deleting book:', error);\n    });\n  }\n}\nBookDetailsComponent.ɵfac = function BookDetailsComponent_Factory(t) {\n  return new (t || BookDetailsComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i2.Router));\n};\nBookDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookDetailsComponent,\n  selectors: [[\"app-book-details\"]],\n  decls: 19,\n  vars: 0,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-9\"], [1, \"card\", \"shadow-effect\"], [\"src\", \"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1654202671i/24770.jpg\", \"alt\", \"\", 1, \"card-img-top\", \"img-fluid\"], [1, \"card-body\"], [1, \"bg-light\", \"text-danger\", \"text-center\"], [1, \"bg-light\", \"text-sucess\", \"text-center\", \"ml-2\"], [1, \"bg-light\", \"text-info\", \"text-center\", \"ml-2\"], [1, \"bg-light\", \"text-warning\", \"text-center\", \"ml-2\"], [1, \"mt-3\", \"mb-3\"], [1, \"col-md-3\"]],\n  template: function BookDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"small\", 6);\n      i0.ɵɵtext(7, \" Design \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"small\", 7);\n      i0.ɵɵtext(9, \" Featured \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"small\", 8);\n      i0.ɵɵtext(11, \" Views - 100,255 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"small\", 9);\n      i0.ɵɵtext(13, \" LAST UPDATED - SEP 20, 2021 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"h1\", 10);\n      i0.ɵɵtext(15, \" Uglies \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"p\");\n      i0.ɵɵtext(17, \"Tally is about to turn sixteen, and she can't wait. In just a few weeks she'll have the operation that will turn her from a repellent ugly into a stunning pretty. And as a pretty, she'll be catapulted into a high-tech paradise where her only job is to have fun. But Tally's new friend Shay isn't sure she wants to become a pretty. When Shay runs away, Tally learns about a whole new side of the pretty world\\u2014and it isn't very pretty. The authorities offer Tally a choice: find her friend and turn her in, or never turn pretty at all. Tally's choice will change her world forever....\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(18, \"div\", 11);\n      i0.ɵɵelementEnd()();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["BookDetailsComponent","constructor","apiService","activatedRoute","userService","router","isLogged","ngOnInit","fetchBook","id","snapshot","params","console","log","getBook","subscribe","book","onDeleteBook","deleteBook","navigate","error","i0","ɵɵdirectiveInject","i1","ApiService","i2","ActivatedRoute","i3","UserService","Router","selectors","decls","vars","consts","template","BookDetailsComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd"],"sources":["D:\\JS\\AngularProjects\\fandom\\fandom\\src\\app\\categories\\book-details\\book-details.component.ts","D:\\JS\\AngularProjects\\fandom\\fandom\\src\\app\\categories\\book-details\\book-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/api.service';\nimport { Book } from 'src/app/types/book';\nimport { UserService } from 'src/app/user/user.service';\n\n@Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})\nexport class BookDetailsComponent implements OnInit {\n\n  book: Book | undefined;\n\n  constructor(\n    private apiService: ApiService,\n    private activatedRoute: ActivatedRoute,\n    private userService: UserService,\n    private router: Router\n  ) { }\n\n  get isLogged(): boolean {\n    return this.userService.isLogged;\n  }\n\n  ngOnInit(): void {\n    this.fetchBook();\n\n  }\n\n  fetchBook(): void {\n    const id = this.activatedRoute.snapshot.params['id'];\n    console.log(id)\n\n    this.apiService.getBook(id).subscribe((book) => {\n      this.book = book;\n      console.log(this.book)\n    })\n  }\n\n  onDeleteBook(): void {\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.apiService.deleteBook(id).subscribe(() => {\n      console.log('Book deleted successfully!');\n      this.router.navigate(['/books'])\n    },\n    (error) => {\n      console.error('Error deleting book:', error);\n    })\n  }\n}\n","\n<div class=\"container\">\n  <div class=\"row\">\n      <div class=\"col-md-9\">\n\n          <div class=\"card shadow-effect\">\n              <img src=\"https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1654202671i/24770.jpg\" alt=\"\" class=\"card-img-top img-fluid\">\n              <div class=\"card-body\">\n                  <small class=\"bg-light text-danger text-center\"> Design </small>\n                  <small class=\"bg-light text-sucess text-center ml-2\"> Featured </small>\n                  <small class=\"bg-light text-info text-center ml-2\"> Views - 100,255 </small>\n                  <small class=\"bg-light text-warning text-center ml-2\"> LAST UPDATED - SEP 20, 2021 </small>\n\n                  <h1 class=\"mt-3 mb-3\"> Uglies </h1>\n                  <p>Tally is about to turn sixteen, and she can't wait. In just a few weeks she'll have the operation that will turn her from a repellent ugly into a stunning pretty. And as a pretty, she'll be catapulted into a high-tech paradise where her only job is to have fun.\n\n                      But Tally's new friend Shay isn't sure she wants to become a pretty. When Shay runs away, Tally learns about a whole new side of the pretty world—and it isn't very pretty. The authorities offer Tally a choice: find her friend and turn her in, or never turn pretty at all. Tally's choice will change her world forever....</p>\n              </div>\n          </div>\n\n         \n      </div>\n      <div class=\"col-md-3\">\n         \n      </div>\n  </div>\n</div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<!-- <div class=\"container\" *ngIf=\"book\">\n   \n    <div class=\"theme-content\">\n     \n      <div class=\"theme-title\">\n        <div class=\"theme-name-wrapper\">\n            <img src={{book.image}} alt=\"avatar\" width=\"150\" height=\"200\"/>\n          <div class=\"theme-name\">\n            <h2>{{ book.name }}</h2>\n            <p>\n              Date: <time>{{ book.published }}</time>\n            </p>\n          </div>\n          <div class=\"subscribers\">\n            <p>\n              Subscribers: <span>{{ book.commentList.length }}</span>\n            </p>\n            <button class=\"subscribe\">Subscribe</button>\n                      <button class=\"unsubscribe\">Unsubscribe</button> -->\n          <!-- </div>\n        </div>\n      </div> -->\n  \n      <!-- comment \n      <div class=\"comment\" *ngFor=\"let post of book.posts\">\n        <header class=\"header\">\n          <p>\n            <span>{{ post.userId.username }}</span> posted on\n            <time>{{ post.created_at }}</time>\n          </p>\n        </header>\n        <div class=\"comment-main\">\n          <div class=\"userdetails\">\n            <img src=\"/assets/profile.png\" alt=\"avatar\" />\n          </div>\n          <div class=\"post-content\">\n            <p>\n              {{ post.text }}\n            </p>\n          </div>\n        </div>\n        <div class=\"footer\">\n          <i class=\"fas fa-thumbs-up\"></i>\n                  <i class=\"fas fa-thumbs-down\"></i>\n           <p>\n            <span> {{ post.likes.length }}</span> likes\n          </p> \n        </div>\n      </div>\n  \n      <button *ngIf=\"isLogged\" class=\"subscribe\" [routerLink]=\"['/books',book._id,'editBook']\">Update Info</button>\n      <button *ngIf=\"isLogged\" class=\"subscribe\" (click)=\"onDeleteBook()\">Delete Book</button>\n\n      <div class=\"answer-comment\" *ngIf=\"isLogged\">     \n\n        <p><span>currentUser</span> comment:</p>\n        <div class=\"answer\">\n          <form>\n            <textarea name=\"postText\" id=\"comment\" cols=\"30\" rows=\"10\"></textarea>\n            <button>Post</button>\n          </form>\n        </div>\n      </div> -->\n    <!-- </div>\n  </div> -->\n"],"mappings":";;;;AAWA,OAAM,MAAOA,oBAAoB;EAI/BC,YACUC,UAAsB,EACtBC,cAA8B,EAC9BC,WAAwB,EACxBC,MAAc;IAHd,KAAAH,UAAU,GAAVA,UAAU;IACV,KAAAC,cAAc,GAAdA,cAAc;IACd,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;EACZ;EAEJ,IAAIC,QAAQA,CAAA;IACV,OAAO,IAAI,CAACF,WAAW,CAACE,QAAQ;EAClC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAElB;EAEAA,SAASA,CAAA;IACP,MAAMC,EAAE,GAAG,IAAI,CAACN,cAAc,CAACO,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IACpDC,OAAO,CAACC,GAAG,CAACJ,EAAE,CAAC;IAEf,IAAI,CAACP,UAAU,CAACY,OAAO,CAACL,EAAE,CAAC,CAACM,SAAS,CAAEC,IAAI,IAAI;MAC7C,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChBJ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACG,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ;EAEAC,YAAYA,CAAA;IACV,MAAMR,EAAE,GAAG,IAAI,CAACN,cAAc,CAACO,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IACpD,IAAI,CAACT,UAAU,CAACgB,UAAU,CAACT,EAAE,CAAC,CAACM,SAAS,CAAC,MAAK;MAC5CH,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzC,IAAI,CAACR,MAAM,CAACc,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC,EACAC,KAAK,IAAI;MACRR,OAAO,CAACQ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,CAAC;EACJ;;AAvCWpB,oBAAoB,C;mBAApBA,oBAAoB,EAAAqB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,WAAA,GAAAP,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAI,MAAA;AAAA;AAApB7B,oBAAoB,C;QAApBA,oBAAoB;EAAA8B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCVjCf,EAAA,CAAAiB,cAAA,aAAuB;MAKTjB,EAAA,CAAAkB,SAAA,aAA6J;MAC7JlB,EAAA,CAAAiB,cAAA,aAAuB;MAC8BjB,EAAA,CAAAmB,MAAA,eAAO;MAAAnB,EAAA,CAAAoB,YAAA,EAAQ;MAChEpB,EAAA,CAAAiB,cAAA,eAAqD;MAACjB,EAAA,CAAAmB,MAAA,iBAAS;MAAAnB,EAAA,CAAAoB,YAAA,EAAQ;MACvEpB,EAAA,CAAAiB,cAAA,gBAAmD;MAACjB,EAAA,CAAAmB,MAAA,yBAAgB;MAAAnB,EAAA,CAAAoB,YAAA,EAAQ;MAC5EpB,EAAA,CAAAiB,cAAA,gBAAsD;MAACjB,EAAA,CAAAmB,MAAA,qCAA4B;MAAAnB,EAAA,CAAAoB,YAAA,EAAQ;MAE3FpB,EAAA,CAAAiB,cAAA,cAAsB;MAACjB,EAAA,CAAAmB,MAAA,gBAAO;MAAAnB,EAAA,CAAAoB,YAAA,EAAK;MACnCpB,EAAA,CAAAiB,cAAA,SAAG;MAAAjB,EAAA,CAAAmB,MAAA,mlBAEiU;MAAAnB,EAAA,CAAAoB,YAAA,EAAI;MAMpVpB,EAAA,CAAAkB,SAAA,eAEM;MACVlB,EAAA,CAAAoB,YAAA,EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}