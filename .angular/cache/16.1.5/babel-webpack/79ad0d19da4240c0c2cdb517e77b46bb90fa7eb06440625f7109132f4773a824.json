{"ast":null,"code":"import { NG_VALIDATORS } from '@angular/forms';\nimport { appEmailValidator } from './app-email-validator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/user/user.service\";\nexport class AppEmailDirective {\n  constructor(userService) {\n    this.userService = userService;\n    this.appEmail = [];\n    this.validator = () => null;\n  }\n  validate(control) {\n    return this.validator(control);\n  }\n  ngOnChanges(changes) {\n    const currentEmailChanges = changes[\"appEmail\"];\n    if (currentEmailChanges) {\n      this.validator = appEmailValidator(currentEmailChanges.currentValue);\n    }\n  }\n}\nAppEmailDirective.ɵfac = function AppEmailDirective_Factory(t) {\n  return new (t || AppEmailDirective)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nAppEmailDirective.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: AppEmailDirective,\n  selectors: [[\"\", \"appEmail\", \"\"]],\n  inputs: {\n    appEmail: \"appEmail\"\n  },\n  features: [i0.ɵɵProvidersFeature([{\n    provide: NG_VALIDATORS,\n    useExisting: AppEmailDirective,\n    multi: true\n  }]), i0.ɵɵNgOnChangesFeature]\n});","map":{"version":3,"names":["NG_VALIDATORS","appEmailValidator","AppEmailDirective","constructor","userService","appEmail","validator","validate","control","ngOnChanges","changes","currentEmailChanges","currentValue","i0","ɵɵdirectiveInject","i1","UserService","selectors","inputs","features","ɵɵProvidersFeature","provide","useExisting","multi","ɵɵNgOnChangesFeature"],"sources":["D:\\JS\\AngularProjects\\fandom\\fandom\\src\\app\\shared\\validators\\app-email.directive.ts"],"sourcesContent":["import { Directive, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { Validator, AbstractControl, ValidationErrors, ValidatorFn, NG_VALIDATORS } from '@angular/forms';\nimport { appEmailValidator} from './app-email-validator';\nimport { UserService } from 'src/app/user/user.service';\n\n@Directive({\n  selector: \"[appEmail]\",\n  providers: [\n    {\n      provide: NG_VALIDATORS,\n      useExisting: AppEmailDirective,\n      multi: true,\n    },\n  ],\n})\nexport class AppEmailDirective implements Validator, OnChanges {\n  @Input() appEmail: string[] = [];\n\n   validator: ValidatorFn = () => null;\n\n  constructor(private userService: UserService) { }\n\n  validate( control: AbstractControl<any, any>): ValidationErrors | null {\n    \n    return this.validator(control);\n  }\n\n  \n\n  ngOnChanges(changes: SimpleChanges): void {\n    const currentEmailChanges = changes[\"appEmail\"];\n    if(currentEmailChanges){\n      this.validator = appEmailValidator(currentEmailChanges.currentValue);\n    }\n  }\n\n}\n"],"mappings":"AACA,SAAoEA,aAAa,QAAQ,gBAAgB;AACzG,SAASC,iBAAiB,QAAO,uBAAuB;;;AAaxD,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAJtB,KAAAC,QAAQ,GAAa,EAAE;IAE/B,KAAAC,SAAS,GAAgB,MAAM,IAAI;EAEY;EAEhDC,QAAQA,CAAEC,OAAkC;IAE1C,OAAO,IAAI,CAACF,SAAS,CAACE,OAAO,CAAC;EAChC;EAIAC,WAAWA,CAACC,OAAsB;IAChC,MAAMC,mBAAmB,GAAGD,OAAO,CAAC,UAAU,CAAC;IAC/C,IAAGC,mBAAmB,EAAC;MACrB,IAAI,CAACL,SAAS,GAAGL,iBAAiB,CAACU,mBAAmB,CAACC,YAAY,CAAC;;EAExE;;AAnBWV,iBAAiB,C;mBAAjBA,iBAAiB,EAAAW,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;AAAA;AAAjBd,iBAAiB,C;QAAjBA,iBAAiB;EAAAe,SAAA;EAAAC,MAAA;IAAAb,QAAA;EAAA;EAAAc,QAAA,GAAAN,EAAA,CAAAO,kBAAA,CARjB,CACT;IACEC,OAAO,EAAErB,aAAa;IACtBsB,WAAW,EAAEpB,iBAAiB;IAC9BqB,KAAK,EAAE;GACR,CACF,GAAAV,EAAA,CAAAW,oBAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}